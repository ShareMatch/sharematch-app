/* Tailwind CSS Directives */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ShareMatch Brand Colors (CSS Variables for legacy support) */
:root {
  /* Primary Colors */
  --color-emerald-900: #005430;
  --color-emerald-500: #005430;
  --color-cream: #FDFBF7;

  /* Accent Colors */
  --color-amber-500: #f59e0b;
  --color-amber-400: #fbbf24;

  /* Neutral Colors */
  --color-gray-50: #F9FAFB;
  --color-gray-900: #111827;

  /* Legacy colors (for compatibility) */
  --color-brand: #005430;
  --color-brand-dark: #005430;
}

/* Custom Scrollbar Styles */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: #1a1a1a;
}

::-webkit-scrollbar-thumb {
  background: #888888;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-amber-500);
}

/* Firefox */
* {
  scrollbar-width: thin;
  scrollbar-color: #888888 #1a1a1a;
}

/* 3D Coin Rotation Animations - GPU Accelerated */
@keyframes coin-rotate-y {
  0% {
    transform: rotateY(0deg) rotateX(0deg);
  }
  25% {
    transform: rotateY(90deg) rotateX(5deg);
  }
  50% {
    transform: rotateY(180deg) rotateX(0deg);
  }
  75% {
    transform: rotateY(270deg) rotateX(-5deg);
  }
  100% {
    transform: rotateY(360deg) rotateX(0deg);
  }
}

@keyframes coin-glow {
  0%, 100% {
    filter: drop-shadow(0 0 5px rgba(255, 215, 0, 0.3));
  }
  50% {
    filter: drop-shadow(0 0 15px rgba(255, 215, 0, 0.6));
  }
}

@keyframes coin-shine {
  0% {
    transform: translateX(-100%) skewX(-15deg);
  }
  100% {
    transform: translateX(300%) skewX(-15deg);
  }
}

.coin-container {
  perspective: 1000px;
  transform-style: preserve-3d;
}

.coin-3d {
  position: relative;
  border-radius: 50%;
  overflow: hidden;
  animation:
    coin-rotate-y 4s ease-in-out infinite,
    coin-glow 4s ease-in-out infinite;
  transform-style: preserve-3d;
  backface-visibility: hidden;
  will-change: transform, filter;
}

.coin-3d::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 50%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.4),
    transparent
  );
  animation: coin-shine 4s ease-in-out infinite;
  pointer-events: none;
}

.coin-3d::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 50%;
  background: radial-gradient(
    circle at 30% 30%,
    rgba(255, 215, 0, 0.1) 0%,
    transparent 50%
  );
  pointer-events: none;
}

/* Mobile coin animations */
.coin-mobile {
  position: relative;
  border-radius: 50%;
  overflow: hidden;
  animation:
    coin-rotate-y 4s ease-in-out infinite,
    coin-glow 4s ease-in-out infinite;
  transform-style: preserve-3d;
  backface-visibility: hidden;
  will-change: transform, filter;
}

.coin-mobile::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 50%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.4),
    transparent
  );
  animation: coin-shine 4s ease-in-out infinite;
  pointer-events: none;
}

.coin-mobile::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 50%;
  background: radial-gradient(
    circle at 30% 30%,
    rgba(255, 215, 0, 0.1) 0%,
    transparent 50%
  );
  pointer-events: none;
}

/* Custom utility for hiding scrollbar but keeping functionality if needed */
.no-scrollbar::-webkit-scrollbar,
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

.no-scrollbar,
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* Font utilities */
.font-display {
  font-family: 'Playfair Display', serif;
}

.font-body {
  font-family: 'Inter', sans-serif;
}

/* Modal inner container gradient border */
.modal-gradient-border {
  background-color: #021A1A;
  background-image: linear-gradient(#021A1A, #021A1A), linear-gradient(90deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.6) 50%, rgba(255, 255, 255, 0) 100%);
  background-origin: border-box;
  background-clip: padding-box, border-box;
  border: 1px solid transparent;
}

/* Sumsub SDK smooth transitions */
#sumsub-websdk-container,
[id^="sumsub"],
iframe[src*="sumsub"] {
  transition: height 0.3s ease-in-out !important;
}

/* Smooth container transitions for KYC modal */
.kyc-sdk-container {
  transition: all 0.3s ease-in-out;
}

/* Ensure Sumsub iframe has visible scrollbar */
iframe[src*="sumsub"] {
  scrollbar-width: thin;
  scrollbar-color: #888888 #1a1a1a;
}

/* Sumsub container scrollbar */
#sumsub-websdk-container::-webkit-scrollbar,
[id^="sumsub"]::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

#sumsub-websdk-container::-webkit-scrollbar-track,
[id^="sumsub"]::-webkit-scrollbar-track {
  background: #1a1a1a;
}

#sumsub-websdk-container::-webkit-scrollbar-thumb,
[id^="sumsub"]::-webkit-scrollbar-thumb {
  background: #888888;
  border-radius: 4px;
}

#sumsub-websdk-container::-webkit-scrollbar-thumb:hover,
[id^="sumsub"]::-webkit-scrollbar-thumb:hover {
  background: var(--color-amber-500);
}

/* Explosive Pop Animation for Trending Markets */
@keyframes pop {
  0% {
    transform: scale(1);
    filter: brightness(1);
    box-shadow: 0 0 0 rgba(74, 222, 128, 0);
  }

  40% {
    transform: scale(1.03);
    filter: brightness(1.2);
    box-shadow: 0 0 20px rgba(74, 222, 128, 0.3);
    border-color: rgba(74, 222, 128, 0.8);
  }

  100% {
    transform: scale(1);
    filter: brightness(1);
    box-shadow: 0 0 0 rgba(74, 222, 128, 0);
  }
}

.animate-pop {
  animation: pop 0.6s cubic-bezier(0.25, 1, 0.5, 1);
}

/* 3D Coin Animation Styles */
.sm-3d-perspective {
  perspective: 600px;
}

.sm-coin {
  /* Tunables */
  --sm-coin-rim: #009DDC;     /* rim/base color (overridable per-asset) */
  --sm-coin-depth: 18px;      /* how far each face sits from center */
  --sm-coin-rim-thickness: 6px; /* thickness of the coin edge */
  --sm-avatar-glow: rgba(0, 157, 220, 0.2); /* subtle glow color */

  position: relative;
  transform-style: preserve-3d;
  border-radius: 50%;
  overflow: hidden;
  /* Enhanced depth perception for premium feel */
  box-shadow:
    0 12px 40px rgba(0, 0, 0, 0.4),
    0 6px 20px rgba(0, 0, 0, 0.3),
    0 0 0 1px rgba(255, 255, 255, 0.06),
    0 0 24px var(--sm-avatar-glow),
    inset 0 1px 3px rgba(255, 255, 255, 0.08),
    inset 0 -1px 2px rgba(0, 0, 0, 0.1);
}

.sm-coin::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  border-radius: 50%;
  background:
    /* Edge shine gradient that becomes more visible during tilt */
    conic-gradient(
      from 0deg at 50% 50%,
      transparent 0deg,
      rgba(255, 255, 255, 0.15) 45deg,
      rgba(255, 255, 255, 0.25) 90deg,
      rgba(255, 255, 255, 0.15) 135deg,
      transparent 180deg,
      rgba(0, 0, 0, 0.1) 225deg,
      rgba(0, 0, 0, 0.05) 270deg,
      rgba(0, 0, 0, 0.1) 315deg,
      transparent 360deg
    ),
    /* Base lighting */
    radial-gradient(
      circle at 30% 30%,
      rgba(255, 255, 255, 0.12) 0%,
      rgba(255, 255, 255, 0.04) 50%,
      transparent 70%
    ),
    radial-gradient(
      circle at 70% 70%,
      transparent 30%,
      rgba(0, 0, 0, 0.08) 70%,
      rgba(0, 0, 0, 0.15) 100%
    );
  pointer-events: none;
  z-index: 1;
  /* Animate the shine during the tilt motion */
  animation: sm-coin-shine 4s ease-in-out infinite;
}

@keyframes sm-coin-shine {
  0%, 100% {
    opacity: 0.7;
    filter: brightness(1) contrast(1);
  }
  25% {
    opacity: 0.9;
    filter: brightness(1.05) contrast(1.02);
  }
  50% {
    opacity: 1;
    filter: brightness(1.08) contrast(1.05);
  }
  75% {
    opacity: 0.9;
    filter: brightness(1.05) contrast(1.02);
  }
}

.sm-coin-tilt {
  transform: rotateX(20deg) rotateY(0deg);
  transform-style: preserve-3d;
}

@keyframes sm-spin-coin {
  0% { transform: rotateY(-12deg) rotateX(-1deg); }
  25% { transform: rotateY(-6deg) rotateX(0.5deg); }
  50% { transform: rotateY(12deg) rotateX(1deg); }
  75% { transform: rotateY(6deg) rotateX(-0.5deg); }
  100% { transform: rotateY(-12deg) rotateX(-1deg); }
}

.sm-spin-coin {
  transform-style: preserve-3d;
  will-change: transform;
  animation: sm-spin-coin 4s ease-in-out infinite;
  /* Rounded cylinder shadow that spins with the coin */
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.8),
    0 4px 16px rgba(0, 0, 0, 0.6);
}

.sm-coin-face {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  backface-visibility: hidden;
  z-index: 3;
}

.sm-coin-front {
  transform: translateZ(var(--sm-coin-depth));
}

.sm-coin-back {
  transform: rotateY(180deg) translateZ(var(--sm-coin-depth));
}

/* Responsive coin thickness */
@media (max-width: 640px) {
  .sm-coin {
    --sm-coin-rim-thickness: 4px;
    --sm-coin-depth: 8px;
  }
}

/* Disable animations for reduced motion */
@media (prefers-reduced-motion: reduce) {
  .sm-spin-coin {
    animation: none;
  }
}