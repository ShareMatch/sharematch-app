/**
 * Home Page Tests
 * 
 * Auto-generated by CodeGenerator Agent
 * Generated at: 2026-01-07T10:37:28.314Z
 * Risk Level: MEDIUM
 * 
 * Scenarios:
 *   - Home Page loads and displays main content (happy_path)
 *   - Clicking on Sports button displays sports content (happy_path)
 *   - Clicking on Football button displays football content (happy_path)
 *   - Search input validation (negative)
 *   - Clicking on Help Center button displays help center content (edge_case)
 * 
 * DO NOT EDIT DIRECTLY - regenerate using the test planner
 */

import { test, expect } from '../../adapters';

const TEST_USER = {
  email: `test.${Date.now()}@example.com`,
  password: 'TestPassword123!',
  fullName: 'Test User',
  phone: '501234567',
  dob: { month: '0', year: '1990', day: '15' },
};

test.describe('Home Page', () => {
  
  test.beforeEach(async ({ supabaseAdapter }) => {
    // Clean up any existing test user
    console.log(`[Setup] Cleaning up test user: ${TEST_USER.email}`);
    await supabaseAdapter.deleteTestUser(TEST_USER.email);
  });
  
  test.afterEach(async ({ supabaseAdapter }) => {
    // Clean up test user after test
    await supabaseAdapter.deleteTestUser(TEST_USER.email);
  });

  test('Home Page loads and displays main content', async ({ page, supabaseAdapter }) => {
    console.log('[Test] Starting...');
    await page.goto('/');
    await page.locator('body').waitFor({ timeout: 5000 });
    await page.locator('button:has-text("Home")').click();
    await expect(page.locator('button:has-text("Home")')).toBeVisible();
    await expect(page.locator('button:has-text("Sports")')).toBeVisible();
    console.log('[Test] Completed');
  });

  test('Clicking on Sports button displays sports content', async ({ page, supabaseAdapter }) => {
    console.log('[Test] Starting...');
    await page.goto('/');
    await page.locator('body').waitFor({ timeout: 5000 });
    await page.locator('button:has-text("Sports")').click();
    await expect(page.locator('button:has-text("Football")')).toBeVisible();
    await expect(page.locator('button:has-text("Basketball")')).toBeVisible();
    console.log('[Test] Completed');
  });

  test('Clicking on Football button displays football content', async ({ page, supabaseAdapter }) => {
    console.log('[Test] Starting...');
    await page.goto('/');
    await page.locator('body').waitFor({ timeout: 5000 });
    await page.locator('button:has-text("Sports")').click();
    await page.locator('button:has-text("Football")').click();
    await expect(page.locator('button:has-text("England Premier League")')).toBeVisible();
    await expect(page.locator('button:has-text("Saudi Pro League")')).toBeVisible();
    console.log('[Test] Completed');
  });

  test('Search input validation', async ({ page, supabaseAdapter }) => {
    console.log('[Test] Starting...');
    await page.goto('/');
    await page.locator('body').waitFor({ timeout: 5000 });
    await page.locator('[data-testid="desktop-search-input"]').fill('Arsenal');
    await expect(page.locator('[data-testid="desktop-search-input"]')).toBeVisible();
    await expect(page.locator('[data-testid="desktop-search-input"]')).toHaveValue('Arsenal');
    console.log('[Test] Completed');
  });

  test('Clicking on Help Center button displays help center content', async ({ page, supabaseAdapter }) => {
    console.log('[Test] Starting...');
    await page.goto('/');
    await page.locator('body').waitFor({ timeout: 5000 });
    await page.locator('[data-testid="sidebar-help-center"]').click();
    await expect(page.locator('[data-testid="sidebar-help-center"]')).toBeVisible();
    console.log('[Test] Completed');
  });
});